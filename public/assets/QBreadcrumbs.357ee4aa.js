import{y as N,J as fe,h as s,ah as he,a5 as ve,a6 as be,r as R,b6 as ye,c as C,w as W,g as ge,P as ke,ba as xe,ao as me,am as j,bh as _e,Y as X,ak as Se,bs as Ce,bi as Z,aD as qe,aE as Te,I as Ke,bt as Ee,bu as we,bv as $e,z as Ae}from"./index.27345aab.js";var Le=N({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(l,{slots:x,emit:y}){let _=!1,S,q,g,m,d,b;function E(){S&&S(),S=null,_=!1,clearTimeout(g),clearTimeout(m),q!==void 0&&q.removeEventListener("transitionend",d),d=null}function k(c,K,o){c.style.overflowY="hidden",K!==void 0&&(c.style.height=`${K}px`),c.style.transition=`height ${l.duration}ms cubic-bezier(.25, .8, .50, 1)`,_=!0,S=o}function w(c,K){c.style.overflowY=null,c.style.height=null,c.style.transition=null,E(),K!==b&&y(K)}function A(c,K){let o=0;q=c,_===!0?(E(),o=c.offsetHeight===c.scrollHeight?0:void 0):b="hide",k(c,o,K),g=setTimeout(()=>{c.style.height=`${c.scrollHeight}px`,d=T=>{(Object(T)!==T||T.target===c)&&w(c,"show")},c.addEventListener("transitionend",d),m=setTimeout(d,l.duration*1.1)},100)}function $(c,K){let o;q=c,_===!0?E():(b="show",o=c.scrollHeight),k(c,o,K),g=setTimeout(()=>{c.style.height=0,d=T=>{(Object(T)!==T||T.target===c)&&w(c,"hide")},c.addEventListener("transitionend",d),m=setTimeout(d,l.duration*1.1)},100)}return fe(()=>{_===!0&&E()}),()=>s(he,{css:!1,appear:l.appear,onEnter:A,onLeave:$},x.default)}});const ze=["none","strict","leaf","leaf-filtered"];var Ne=N({name:"QTree",props:{...ve,nodes:{type:Array,required:!0},nodeKey:{type:String,required:!0},labelKey:{type:String,default:"label"},childrenKey:{type:String,default:"children"},dense:Boolean,color:String,controlColor:String,textColor:String,selectedColor:String,icon:String,tickStrategy:{type:String,default:"none",validator:l=>ze.includes(l)},ticked:Array,expanded:Array,selected:{},noSelectionUnset:Boolean,defaultExpandAll:Boolean,accordion:Boolean,filter:String,filterMethod:Function,duration:Number,noConnectors:Boolean,noNodesLabel:String,noResultsLabel:String},emits:["update:expanded","update:ticked","update:selected","lazy-load","after-show","after-hide"],setup(l,{slots:x,emit:y}){const{proxy:_}=ge(),{$q:S}=_,q=be(l,S),g=R({}),m=R(l.ticked||[]),d=R(l.expanded||[]);let b={};ye(()=>{b={}});const E=C(()=>`q-tree q-tree--${l.dense===!0?"dense":"standard"}`+(l.noConnectors===!0?" q-tree--no-connectors":"")+(q.value===!0?" q-tree--dark":"")+(l.color!==void 0?` text-${l.color}`:"")),k=C(()=>l.selected!==void 0),w=C(()=>l.icon||S.iconSet.tree.icon),A=C(()=>l.controlColor||l.color),$=C(()=>l.textColor!==void 0?` text-${l.textColor}`:""),c=C(()=>{const e=l.selectedColor||l.color;return e?` text-${e}`:""}),K=C(()=>l.filterMethod!==void 0?l.filterMethod:(e,i)=>{const t=i.toLowerCase();return e[l.labelKey]&&e[l.labelKey].toLowerCase().indexOf(t)>-1}),o=C(()=>{const e={},i=(t,r)=>{const a=t.tickStrategy||(r?r.tickStrategy:l.tickStrategy),u=t[l.nodeKey],f=t[l.childrenKey]&&t[l.childrenKey].length>0,z=f!==!0,v=t.disabled!==!0&&k.value===!0&&t.selectable!==!1,Y=t.disabled!==!0&&t.expandable!==!1,se=a!=="none",F=a==="strict",J=a==="leaf-filtered",O=a==="leaf"||a==="leaf-filtered";let M=t.disabled!==!0&&t.tickable!==!1;O===!0&&M===!0&&r&&r.tickable!==!0&&(M=!1);let L=t.lazy;L===!0&&g.value[u]!==void 0&&Array.isArray(t[l.childrenKey])===!0&&(L=g.value[u]);const n={key:u,parent:r,isParent:f,isLeaf:z,lazy:L,disabled:t.disabled,link:t.disabled!==!0&&(v===!0||Y===!0&&(f===!0||L===!0)),children:[],matchesFilter:l.filter?K.value(t,l.filter):!0,selected:u===l.selected&&v===!0,selectable:v,expanded:f===!0?d.value.includes(u):!1,expandable:Y,noTick:t.noTick===!0||F!==!0&&L&&L!=="loaded",tickable:M,tickStrategy:a,hasTicking:se,strictTicking:F,leafFilteredTicking:J,leafTicking:O,ticked:F===!0||z===!0?m.value.includes(u):!1};if(e[u]=n,f===!0&&(n.children=t[l.childrenKey].map(h=>i(h,n)),l.filter&&(n.matchesFilter!==!0?n.matchesFilter=n.children.some(h=>h.matchesFilter):n.noTick!==!0&&n.disabled!==!0&&n.tickable===!0&&J===!0&&n.children.every(h=>h.matchesFilter!==!0||h.noTick===!0||h.tickable!==!0)===!0&&(n.tickable=!1)),n.matchesFilter===!0&&(n.noTick!==!0&&F!==!0&&n.children.every(h=>h.noTick)===!0&&(n.noTick=!0),O))){if(n.ticked=!1,n.indeterminate=n.children.some(h=>h.indeterminate===!0),n.tickable=n.tickable===!0&&n.children.some(h=>h.tickable),n.indeterminate!==!0){const h=n.children.reduce((G,oe)=>oe.ticked===!0?G+1:G,0);h===n.children.length?n.ticked=!0:h>0&&(n.indeterminate=!0)}n.indeterminate===!0&&(n.indeterminateNextState=n.children.every(h=>h.tickable!==!0||h.ticked!==!0))}return n};return l.nodes.forEach(t=>i(t,null)),e});W(()=>l.ticked,e=>{m.value=e}),W(()=>l.expanded,e=>{d.value=e});function T(e){const i=[].reduce,t=(r,a)=>{if(r||!a)return r;if(Array.isArray(a)===!0)return i.call(Object(a),t,r);if(a[l.nodeKey]===e)return a;if(a[l.childrenKey])return t(null,a[l.childrenKey])};return t(null,l.nodes)}function p(){return m.value.map(e=>T(e))}function ee(){return d.value.map(e=>T(e))}function te(e){return e&&o.value[e]?o.value[e].expanded:!1}function le(){l.expanded!==void 0?y("update:expanded",[]):d.value=[]}function D(){const e=d.value,i=t=>{t[l.childrenKey]&&t[l.childrenKey].length>0&&t.expandable!==!1&&t.disabled!==!0&&(e.push(t[l.nodeKey]),t[l.childrenKey].forEach(i))};l.nodes.forEach(i),l.expanded!==void 0?y("update:expanded",e):d.value=e}function Q(e,i,t=T(e),r=o.value[e]){if(r.lazy&&r.lazy!=="loaded"){if(r.lazy==="loading")return;g.value[e]="loading",Array.isArray(t[l.childrenKey])!==!0&&(t[l.childrenKey]=[]),y("lazy-load",{node:t,key:e,done:a=>{g.value[e]="loaded",t[l.childrenKey]=Array.isArray(a)===!0?a:[],ke(()=>{const u=o.value[e];u&&u.isParent===!0&&H(e,!0)})},fail:()=>{delete g.value[e],t[l.childrenKey].length===0&&delete t[l.childrenKey]}})}else r.isParent===!0&&r.expandable===!0&&H(e,i)}function H(e,i){let t=d.value;const r=l.expanded!==void 0;if(r===!0&&(t=t.slice()),i){if(l.accordion&&o.value[e]){const a=[];o.value[e].parent?o.value[e].parent.children.forEach(u=>{u.key!==e&&u.expandable===!0&&a.push(u.key)}):l.nodes.forEach(u=>{const f=u[l.nodeKey];f!==e&&a.push(f)}),a.length>0&&(t=t.filter(u=>a.includes(u)===!1))}t=t.concat([e]).filter((a,u,f)=>f.indexOf(a)===u)}else t=t.filter(a=>a!==e);r===!0?y("update:expanded",t):d.value=t}function ie(e){return e&&o.value[e]?o.value[e].ticked:!1}function B(e,i){let t=m.value;const r=l.ticked!==void 0;r===!0&&(t=t.slice()),i?t=t.concat(e).filter((a,u,f)=>f.indexOf(a)===u):t=t.filter(a=>e.includes(a)===!1),r===!0&&y("update:ticked",t)}function ae(e,i,t){const r={tree:_,node:e,key:t,color:l.color,dark:q.value};return Z(r,"expanded",()=>i.expanded,a=>{a!==i.expanded&&Q(t,a)}),Z(r,"ticked",()=>i.ticked,a=>{a!==i.ticked&&B([t],a)}),r}function I(e){return(l.filter?e.filter(i=>o.value[i[l.nodeKey]].matchesFilter):e).map(i=>ue(i))}function re(e){if(e.icon!==void 0)return s(j,{class:"q-tree__icon q-mr-sm",name:e.icon,color:e.iconColor});const i=e.img||e.avatar;if(i)return s("img",{class:`q-tree__${e.img?"img":"avatar"} q-mr-sm`,src:i})}function ne(){y("after-show")}function ce(){y("after-hide")}function ue(e){const i=e[l.nodeKey],t=o.value[i],r=e.header&&x[`header-${e.header}`]||x["default-header"],a=t.isParent===!0?I(e[l.childrenKey]):[],u=a.length>0||t.lazy&&t.lazy!=="loaded";let f=e.body&&x[`body-${e.body}`]||x["default-body"];const z=r!==void 0||f!==void 0?ae(e,t,i):null;return f!==void 0&&(f=s("div",{class:"q-tree__node-body relative-position"},[s("div",{class:$.value},[f(z)])])),s("div",{key:i,class:`q-tree__node relative-position q-tree__node--${u===!0?"parent":"child"}`},[s("div",{class:"q-tree__node-header relative-position row no-wrap items-center"+(t.link===!0?" q-tree__node--link q-hoverable q-focusable":"")+(t.selected===!0?" q-tree__node--selected":"")+(t.disabled===!0?" q-tree__node--disabled":""),tabindex:t.link===!0?0:-1,onClick:v=>{V(e,t,v)},onKeypress(v){xe(v)!==!0&&(v.keyCode===13?V(e,t,v,!0):v.keyCode===32&&P(e,t,v,!0))}},[s("div",{class:"q-focus-helper",tabindex:-1,ref:v=>{b[t.key]=v}}),t.lazy==="loading"?s(me,{class:"q-tree__spinner",color:A.value}):u===!0?s(j,{class:"q-tree__arrow"+(t.expanded===!0?" q-tree__arrow--rotate":""),name:w.value,onClick(v){P(e,t,v)}}):null,t.hasTicking===!0&&t.noTick!==!0?s(_e,{class:"q-tree__tickbox",modelValue:t.indeterminate===!0?null:t.ticked,color:A.value,dark:q.value,dense:!0,keepColor:!0,disable:t.tickable!==!0,onKeydown:X,"onUpdate:modelValue":v=>{de(t,v)}}):null,s("div",{class:"q-tree__node-header-content col row no-wrap items-center"+(t.selected===!0?c.value:$.value)},[r?r(z):[re(e),s("div",e[l.labelKey])]])]),u===!0?s(Le,{duration:l.duration,onShow:ne,onHide:ce},()=>Se(s("div",{class:"q-tree__node-collapsible"+$.value,key:`${i}__q`},[f,s("div",{class:"q-tree__children"+(t.disabled===!0?" q-tree__node--disabled":"")},a)]),[[Ce,t.expanded]])):f])}function U(e){const i=b[e];i&&i.focus()}function V(e,i,t,r){r!==!0&&U(i.key),k.value&&i.selectable?l.noSelectionUnset===!1?y("update:selected",i.key!==l.selected?i.key:null):i.key!==l.selected&&y("update:selected",i.key||null):P(e,i,t,r),typeof e.handler=="function"&&e.handler(e)}function P(e,i,t,r){t!==void 0&&X(t),r!==!0&&U(i.key),Q(i.key,!i.expanded,e,i)}function de(e,i){if(e.indeterminate===!0&&(i=e.indeterminateNextState),e.strictTicking)B([e.key],i);else if(e.leafTicking){const t=[],r=a=>{a.isParent?(i!==!0&&a.noTick!==!0&&a.tickable===!0&&t.push(a.key),a.leafTicking===!0&&a.children.forEach(r)):a.noTick!==!0&&a.tickable===!0&&(a.leafFilteredTicking!==!0||a.matchesFilter===!0)&&t.push(a.key)};r(e),B(t,i)}}return Object.assign(_,{getNodeByKey:T,getTickedNodes:p,getExpandedNodes:ee,isExpanded:te,collapseAll:le,expandAll:D,setExpanded:Q,isTicked:ie,setTicked:B}),l.defaultExpandAll===!0&&D(),()=>{const e=I(l.nodes);return s("div",{class:E.value},e.length===0?l.filter?l.noResultsLabel||S.lang.tree.noResults:l.noNodesLabel||S.lang.tree.noNodes:e)}}}),Qe=N({name:"QBreadcrumbsEl",props:{...qe,label:String,icon:String,tag:{type:String,default:"span"}},setup(l,{slots:x}){const{linkTag:y,linkProps:_,linkClass:S,hasRouterLink:q,navigateToRouterLink:g}=Te(),m=C(()=>{const b={class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(l.disable!==!0?"q-link--focusable"+S.value:"q-breadcrumbs__el--disable"),..._.value};return q.value===!0&&(b.onClick=g),b}),d=C(()=>"q-breadcrumbs__el-icon"+(l.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const b=[];return l.icon!==void 0&&b.push(s(j,{class:d.value,name:l.icon})),l.label!==void 0&&b.push(l.label),s(y.value,{...m.value},Ke(x.default,b))}}});const Be=["",!0];var Pe=N({name:"QBreadcrumbs",props:{...Ee,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:l=>["none","xs","sm","md","lg","xl"].includes(l),default:"sm"}},setup(l,{slots:x}){const y=we(l),_=C(()=>`flex items-center ${y.value}${l.gutter==="none"?"":` q-gutter-${l.gutter}`}`),S=C(()=>l.separatorColor?` text-${l.separatorColor}`:""),q=C(()=>` text-${l.activeColor}`);return()=>{const g=$e(Ae(x.default));if(g.length===0)return;let m=1;const d=[],b=g.filter(k=>k.type!==void 0&&k.type.name==="QBreadcrumbsEl").length,E=x.separator!==void 0?x.separator:()=>l.separator;return g.forEach(k=>{if(k.type!==void 0&&k.type.name==="QBreadcrumbsEl"){const w=m<b,A=k.props!==null&&Be.includes(k.props.disable),$=(w===!0?"":" q-breadcrumbs--last")+(A!==!0&&w===!0?q.value:"");m++,d.push(s("div",{class:`flex items-center${$}`},[k])),w===!0&&d.push(s("div",{class:"q-breadcrumbs__separator"+S.value},E()))}else d.push(k)}),s("div",{class:"q-breadcrumbs"},[s("div",{class:_.value},d)])}}});export{Ne as Q,Qe as a,Pe as b};
