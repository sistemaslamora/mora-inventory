import{k as s,l as u,m as _,R as v,d as r,j as e,S as k,r as E,n as p,p as h,Q as b,q as R,s as x,x as q}from"./index.f090f687.js";import{u as V}from"./usePasswordReset.78f4858b.js";import{Q as C,_ as Q}from"./ErrorsBanner.c65a679e.js";import"./QBanner.23009a2f.js";const $={__name:"PasswordResetRequestForm",props:{email:{required:!0,type:String},validationErrors:{required:!1,type:Object,default(){return{}}}},emits:["update:email"],setup(a,{emit:o}){return(t,l)=>(s(),u(e(C),null,{default:_(()=>{var i,n,d;return[v(t.$slots,"top"),r(e(k),{filled:"",label:"Email","model-value":a.email,error:!!((i=a.validationErrors)!=null&&i.email),"error-message":(d=(n=a.validationErrors)==null?void 0:n.email)==null?void 0:d[0],class:"q-mb-md","hide-bottom-space":"","onUpdate:modelValue":l[0]||(l[0]=m=>o("update:email",m))},null,8,["model-value","error","error-message"]),v(t.$slots,"bottom")]}),_:3}))}},P={key:1,style:{"font-size":"1.25em","max-width":"300px"}},B={key:2},S={__name:"PasswordResetRequestCard",setup(a){const{requestReset:o,requestForm:t,loading:l,hasValidationErrors:i,validationErrors:n,errors:d,hasErrors:m,resetErrors:y}=V(),c=E(!1);async function g(){await o(),m.value||(c.value=!0)}return(j,f)=>(s(),u(e(x),null,{default:_(()=>[r(e(b),{class:"text-center q-pb-sm"},{default:_(()=>[c.value?(s(),p("div",P," We've emailed you instructions on how to reset your password \u{1F60A} ")):(s(),u($,{key:0,email:e(t).email,"onUpdate:email":f[0]||(f[0]=w=>e(t).email=w),"validation-errors":e(n),"onUpdate:modelValue":e(y)},null,8,["email","validation-errors","onUpdate:modelValue"])),e(i)?h("",!0):(s(),p("div",B,[r(Q,{errors:e(d)},null,8,["errors"])]))]),_:1}),c.value?h("",!0):(s(),u(e(R),{key:0,loading:e(l),class:"full-width",color:"grey-8",label:"Email Reset Instructions",unelevated:"",onClick:g},null,8,["loading"]))]),_:1}))}},U={class:"flex flex-center",style:{"min-height":"100vh"},padding:""},F={class:"text-center"},N=q("h5",{class:"q-mb-md"}," Password Reset ",-1),A={__name:"PasswordResetRequestViaEmailPage",setup(a){return(o,t)=>(s(),p("div",U,[q("div",F,[N,r(S),r(R,{class:"full-width q-mt-md",color:"grey-6",label:"back",flat:"",to:{name:"auth.login"}},null,8,["to"])])]))}};export{A as default};
