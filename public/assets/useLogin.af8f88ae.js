import{k as h,l as y,m as q,R as v,d as g,j as m,S as c,u as S,U as k,V as F}from"./index.f090f687.js";import{Q as V}from"./ErrorsBanner.c65a679e.js";const R={__name:"LoginForm",props:{email:{required:!0,type:String},password:{required:!0,type:String},validationErrors:{required:!1,type:Object,default(){return{}}}},emits:["update:email","update:password"],setup(e,{emit:r}){return(l,a)=>(h(),y(m(V),null,{default:q(()=>{var o,i,n,s,u,d;return[v(l.$slots,"top"),g(m(c),{filled:"",label:"Email","model-value":e.email,error:!!((o=e.validationErrors)!=null&&o.email),"error-message":(n=(i=e.validationErrors)==null?void 0:i.email)==null?void 0:n[0],class:"q-mb-md","hide-bottom-space":"","onUpdate:modelValue":a[0]||(a[0]=t=>r("update:email",t))},null,8,["model-value","error","error-message"]),g(m(c),{filled:"",type:"password",label:"Password","model-value":e.password,error:!!((s=e.validationErrors)!=null&&s.password),"error-message":(d=(u=e.validationErrors)==null?void 0:u.password)==null?void 0:d[0],class:"q-mb-sm","hide-bottom-space":"","onUpdate:modelValue":a[1]||(a[1]=t=>r("update:password",t))},null,8,["model-value","error","error-message"]),v(l.$slots,"bottom")]}),_:3}))}};var C=()=>{const e=S(),{form:r,loading:l,errors:a,hasErrors:o,validationErrors:i,hasValidationErrors:n,login:s,isReauthenticating:u,resetForm:d,resetErrors:t}=k(),{user:p}=F();async function w(){t(),await s(),o.value||e.push({name:"dashboard"})}function E(){e.push({name:"auth.requestPasswordReset"})}function b(){var f;typeof r.value.email=="string"&&((f=p.value)==null?void 0:f.email)&&(r.value.email=p.value.email)}return{onLoginClicked:w,onForgotPasswordClicked:E,form:r,loading:l,errors:a,hasErrors:o,validationErrors:i,hasValidationErrors:n,login:s,resetForm:d,isReauthenticating:u,attemptSetEmailOnForm:b}};export{R as _,C as u};
